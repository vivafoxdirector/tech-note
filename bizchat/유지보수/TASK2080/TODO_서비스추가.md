# 서비스 추가
오비즈와 같은 사업이 늘어날수록 해당 사업에서는 독자적인 서비스를 운영할 수 있어야 한다.
예를 들어 현재 비즈챗 사업에서는 서비스를 4개 가지고 있다. => 마케팅비즈챗, 알림비즈챗, 상담비즈챗, 메시지 인사이트
오비즈에서는 현재 비즈챗의 '마케팅비즈챗'과 똑같은 서비스를 하는 '마케팅오비즈'가 하나 존재한다.
이렇게 사업내의 서비스가 존재할 경우와 늘어날 경우 어떻게 대비되어야 하는지 조사가 필요하다.

부가 설명으로 비즈챗의 4개의 사업은 각각 서비스 코드를 이용해서 내부적으로 처리하도록 되어 있다.
```SQL
select * from com_cd where cd_grp_id = 'SVC_CL_CD';
```
에) SV: 마케팅비즈챗

## 현상태
오비즈에서는 비즈챗의 마케팅비즈챗이 가진 코드 SV를 그대로 사용하고, 화면에서는 마케팅비즈챗으로 표시되는것을 '마케팅오비즈'로 바꿔서 표시하도록 되어 있다.
FM 대로 한다면 개선이 필요하다.

## 영향도
마케팅비즈챗의 서비스 코드 'SV' 관련하여 내부적으로 관련있는 부분을 조사한다.
1. 공통코드
- [] 공통은 4개가 고정으로 되어 있다. 모든 로직이 이 4개의 서비스를 기준으로 분기처리를 한다.

2. 10분 스케쥴러
- [] SV 서비스가 사용하는 특번이 존재해야 한다. (특번관리와 연관)
- [] 서비스 코드 'SV' SND_MSG에 저장한다.

3. 3초 스케쥴러
- [] 서비스 코드 'SV' MSG_QUEUE에 저장한다.
3. 특번
특번은 결국 어떤 서비스와 매핑이 되어 있어야 한다는 전제..!

# 2가지 방향
결론적으로 서비스가 새로 추가되느냐에 따라 아래 2가지 방법으로 나뉠듯함. (서비스 추가란 Admin메뉴에 서비스 추가된 메뉴가 늘어나는 것을 전제로함)
1. com_cd primary key를 (cd_id+cd_grp_id) 에서 (cd_id+cd_grp_id+blc_id)로 하는 방향 (2번 보다는 손이 들어가지 않을것으로 판단됨)
- [] 서비스코드 SV는 사업별로 구분되게 한다. (확장성 고려해야함.)
=> 이는 새로 생성되는 서비스가 기존 서비스 4개의 범위 한해서 추가된다는 가정이 된다. (오비즈는 마케팅비즈챗이라는 기존 서비스를 따른다)
=> 서비스 코드 조회시 사업id로 구분해서 조회 하도록 하는 수정사항 발생
1-1. com_cd 에서 관리되는 서비스를 별도의 테이블로 빼는 방법도 고려한다.

2. com_cd에 서비스 코드를 추가하는 방향 (완전 신규 개발건)
- [] 사이드 이펙트가 많다. 로직이 기존 4개의 서비스 조건에 의한 처리가 많다.
=> 이는 완전 새로운 서비스에 대한 추가 처리이다. 
=> 해당 서비스의 메뉴도 늘어나는 방식.